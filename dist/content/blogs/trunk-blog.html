<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <title>Trunk Ports & 802.1Q — CCNA Lab Hub</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <nav>
    <a href="../index.html">Home</a>
    <a href="../labs.html">Labs</a>
    <a href="../blog.html">Blog</a>

  </nav>

  <header class="hero"
    style="background: linear-gradient(to bottom, rgba(2, 6, 23, 0.7), var(--primary-bg)), url('https://images.unsplash.com/photo-1558494949-ef010cbdcc51?auto=format&fit=crop&q=80&w=2000');">
    <h1>Trunk Ports & 802.1Q</h1>
    <p>How trunk ports carry multiple VLANs across a single link</p>
  </header>

  <main class="blog-main">

    <p class="lead">
      A <strong>trunk port</strong> is a switch port configured to carry traffic for multiple VLANs across a single
      physical link between network devices. Trunks use tagging (most commonly 802.1Q) so the receiving device can
      identify which VLAN each frame belongs to.
    </p>

    <h2>Why Use Trunk Ports?</h2>
    <ul>
      <li><strong>VLAN Communication:</strong> Trunk ports enable devices (switches, routers, firewalls) to carry
        traffic for all VLANs without needing separate physical links for each VLAN.</li>
      <li><strong>Efficient Bandwidth Use:</strong> Consolidate traffic from multiple VLANs over one link, reducing
        cabling and port usage.</li>
    </ul>

    <section id="configuration">
      <h2>Trunk Port Configuration</h2>
      <h3>Access Mode vs. Trunk Mode</h3>
      <ul>
        <li>By default, switch ports are in <em>access</em> mode and belong to a single VLAN.</li>
        <li>To enable trunking, change the port mode to <em>trunk</em> so it can carry multiple VLANs.</li>
      </ul>

      <h3>802.1Q Encapsulation</h3>
      <p>When a frame traverses a trunk link, it must be "tagged" so the receiving switch knows which VLAN it belongs
        to.
        There are two main protocols for this:</p>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>Protocol</th>
            <th>ISL (Cisco Proprietary)</th>
            <th>IEEE 802.1Q (Standard)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Method</strong></td>
            <td>Encapsulation (New Header/Trailer)</td>
            <td>Tagging (Internal Tag)</td>
          </tr>
          <tr>
            <td><strong>Overhead</strong></td>
            <td>30 Bytes (High)</td>
            <td>4 Bytes (Low)</td>
          </tr>
          <tr>
            <td><strong>Native VLAN</strong></td>
            <td>Not Supported</td>
            <td>Supported (Untagged)</td>
          </tr>
          <tr>
            <td><strong>Status</strong></td>
            <td>Deprecated</td>
            <td>Industry Standard</td>
          </tr>
        </tbody>
      </table>

      <div class="tip-box">
        <h4><i class="fas fa-info-circle"></i> Note: Modern Hardware</h4>
        <p>On modern Cisco switches, 802.1Q is often the only supported encapsulation method. On older
          Layer 3 switches, you might need to manually specify it using
          <code>switchport trunk encapsulation dot1q</code>.
        </p>
      </div>
    </section>

    <section id="native-vlan">
      <h3>Deep Dive: Native VLAN</h3>
      <p>The <strong>Native VLAN</strong> is a unique concept in 802.1Q trunking. While all other VLANs are tagged to
        identify them, traffic for the Native VLAN is sent across the trunk <strong>untagged</strong>.</p>

      <div class="trap-box">
        <h4><i class="fas fa-exclamation-triangle"></i> Security & Best Practices</h4>
        <p><strong>Critical Rule:</strong> The Native VLAN must match on both ends of the trunk link!</p>
        <p>If Switch A uses VLAN 1 as native and Switch B uses VLAN 99, you will receive <em>"Native VLAN mismatch"</em>
          errors on the console, and traffic might be misdirected (VLAN leaking).</p>
      </div>

      <p><strong>Security Tip:</strong> It is a security best practice to change the Native VLAN from the default (VLAN
        1)
        to an unused VLAN ID (e.g., VLAN 999) to prevent specific types of attacks known as <em>VLAN Hopping</em>.</p>
    </section>

    <section id="troubleshooting">
      <h2>Troubleshooting Trunk Ports</h2>
      <ul>
        <li>Use show commands like <code>show interfaces trunk</code> and <code>show vlan brief</code> to inspect trunk
          status and VLAN membership.</li>
        <li>Verify both ends of the trunk agree on encapsulation (802.1Q) and native VLAN settings.</li>
        <li>Check for mismatched VLAN lists or allowed VLAN ranges that could block traffic.</li>
      </ul>

      <div class="note">
        <strong>Quick CLI example:</strong>
        <pre style="background:#0d1117;color:#e6edf3;padding:12px;margin-top:10px;">
<span class="prompt">Switch(config)#</span> <span class="command">interface gigabitEthernet0/1</span>
<span class="prompt">Switch(config-if)#</span> <span class="command">switchport mode trunk</span>
<span class="prompt">Switch(config-if)#</span> <span class="command">switchport trunk native vlan 99</span>
<span class="prompt">Switch(config-if)#</span> <span class="command">switchport trunk allowed vlan 10,20,30</span>
</pre>
      </div>
    </section>


    <p>Trunks are fundamental when designing multi-VLAN networks and are commonly used between switches, and between
      switches and routers or virtualization hosts.</p>

  </main>
  <div style="text-align: center; margin-bottom: 40px;">
    <a href="../labs/trunk.lab.html" class="btn">Go to Trunking Lab →</a>
  </div>




  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>About Us</h3>
        <p>Premium CCNA & CCNP hands-on labs for networking professionals and students.</p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul class="footer-links">
          <li><a href="../index.html">Home</a></li>
          <li><a href="../labs.html">Labs</a></li>
          <li><a href="../blog.html">Blog</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Community</h3>
        <div class="contact-icons">
          <a href="https://discord.gg/ZezHyjKP4S" target="_blank" title="Discord"><i class="fab fa-discord"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Architecture & Developer Space. All rights reserved.</p>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/theme-manager.js"></script>
</body>

</html>
